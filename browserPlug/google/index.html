<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¯¼èˆªåŠ©æ‰‹</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: arial, sans-serif;
      background: #fff;
      min-height: 100vh;
      padding: 20px;
      color: #202124;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    /* æœç´¢æ æ ·å¼ */
    .search-section {
      max-width: 1200px;
      margin: 80px auto 40px;
      text-align: center;
      padding: 0 20px;
    }

    .search-box {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-top: 20px;
    }

    .engine-select {
      padding: 11px 16px;
      border: 1px solid #dfe1e5;
      border-radius: 24px;
      font-size: 14px;
      outline: none;
      background: #fff;
      cursor: pointer;
      transition: all 0.2s;
      color: #202124;
      font-family: arial, sans-serif;
    }

    .engine-select:hover {
      border-color: #dadce0;
      box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);
    }

    .engine-select:focus {
      border-color: transparent;
      box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);
    }

    .search-input {
      flex: 1;
      padding: 11px 16px;
      border: 1px solid #dfe1e5;
      border-radius: 24px;
      font-size: 16px;
      outline: none;
      transition: all 0.2s;
      color: #202124;
      font-family: arial, sans-serif;
    }

    .search-input:hover {
      border-color: #dadce0;
      box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);
    }

    .search-input:focus {
      border-color: transparent;
      box-shadow: 0 1px 6px rgba(32, 33, 36, 0.28);
    }

    .search-btn {
      padding: 11px 24px;
      background: #f8f9fa;
      color: #3c4043;
      border: 1px solid #f8f9fa;
      border-radius: 24px;
      cursor: pointer;
      font-size: 14px;
      font-family: arial, sans-serif;
      transition: all 0.1s;
      white-space: nowrap;
    }

    .search-btn:hover {
      box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
      background: #f8f9fa;
      border: 1px solid #dadce0;
      color: #202124;
    }

    /* åˆ†ç±»å’Œå¯¼èˆªæ ·å¼ */
    .nav-section {
      background: #fff;
      padding: 0 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    .category-tabs {
      display: flex;
      gap: 0;
      margin-bottom: 24px;
      border-bottom: 1px solid #dadce0;
      padding-bottom: 0;
      flex-wrap: wrap;
    }

    .category-tab {
      padding: 12px 16px;
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 14px;
      color: #5f6368;
      transition: all 0.1s;
      border-bottom: 3px solid transparent;
      font-family: arial, sans-serif;
      margin-bottom: -1px;
    }

    .category-tab:hover {
      color: #202124;
    }

    .category-tab.active {
      color: #1a73e8;
      border-bottom-color: #1a73e8;
    }

    .sites-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }

    .site-card {
      background: #fff;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
      cursor: pointer;
      transition: all 0.15s;
      border: 1px solid #dadce0;
      position: relative;
    }

    .site-card:hover {
      box-shadow: 0 1px 3px rgba(60, 64, 67, 0.3), 0 4px 8px 3px rgba(60, 64, 67, 0.15);
      border-color: #dadce0;
    }

    .site-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      margin: 0 auto 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      background: #f1f3f4;
      color: #5f6368;
      overflow: hidden;
    }

    .site-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .site-name {
      font-weight: 400;
      margin-bottom: 4px;
      color: #202124;
      font-size: 13px;
      font-family: arial, sans-serif;
    }

    .site-url {
      font-size: 11px;
      color: #5f6368;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }

    .site-info {
      margin-top: 8px;
      padding-top: 8px;
      border-top: 1px solid #f1f3f4;
      font-size: 11px;
      color: #5f6368;
      line-height: 1.4;
    }

    /* ç®¡ç†æŒ‰é’® */
    .manage-btn {
      padding: 8px 16px;
      background: transparent;
      color: #5f6368;
      border: none;
      cursor: pointer;
      font-size: 14px;
      border-radius: 4px;
      transition: all 0.2s;
      font-family: arial, sans-serif;
      display: flex;
      align-items: center;
      gap: 6px;
      white-space: nowrap;
    }

    .manage-btn:hover {
      background: #f8f9fa;
    }

    /* æ¨¡æ€æ¡†æ ·å¼ */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.4);
      z-index: 1000;
      align-items: center;
      justify-content: center;
    }

    .modal.active {
      display: flex;
    }

    .modal-content {
      background: white;
      border-radius: 8px;
      padding: 24px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e8eaed;
    }

    .modal-title {
      font-size: 20px;
      font-weight: 400;
      color: #202124;
      font-family: arial, sans-serif;
    }

    .close-btn {
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: #5f6368;
      padding: 8px;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      transition: background 0.1s;
    }

    .close-btn:hover {
      background: #f1f3f4;
    }

    .form-group {
      margin-bottom: 16px;
    }

    .form-label {
      display: block;
      margin-bottom: 6px;
      font-weight: 400;
      color: #202124;
      font-size: 13px;
      font-family: arial, sans-serif;
    }

    .form-input {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #dadce0;
      border-radius: 4px;
      font-size: 14px;
      outline: none;
      color: #202124;
      font-family: arial, sans-serif;
      transition: all 0.1s;
    }

    .form-input:hover {
      border-color: #bdc1c6;
    }

    .form-input:focus {
      border-color: #1a73e8;
      box-shadow: 0 0 0 1px #1a73e8;
    }

    .form-textarea {
      min-height: 100px;
      resize: vertical;
    }

    .btn-group {
      display: flex;
      gap: 8px;
      margin-top: 16px;
    }

    .btn {
      flex: 1;
      padding: 10px 16px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      font-family: arial, sans-serif;
      transition: all 0.1s;
    }

    .btn-primary {
      background: #1a73e8;
      color: white;
    }

    .btn-primary:hover {
      background: #1765cc;
      box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);
    }

    .btn-secondary {
      background: #f8f9fa;
      color: #3c4043;
      border: 1px solid #dadce0;
    }

    .btn-secondary:hover {
      background: #f1f3f4;
    }

    .tab-buttons {
      display: flex;
      gap: 0;
      margin-bottom: 16px;
      border-bottom: 1px solid #dadce0;
    }

    .tab-button {
      flex: 1;
      padding: 10px;
      border: none;
      background: transparent;
      border-bottom: 2px solid transparent;
      cursor: pointer;
      color: #5f6368;
      font-size: 14px;
      font-family: arial, sans-serif;
      margin-bottom: -1px;
      transition: all 0.1s;
    }

    .tab-button:hover {
      color: #202124;
    }

    .tab-button.active {
      color: #1a73e8;
      border-bottom-color: #1a73e8;
    }

    .list-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px;
      border: 1px solid #dadce0;
      border-radius: 4px;
      margin-bottom: 8px;
      background: #fff;
    }

    .list-item span {
      color: #202124;
      font-size: 14px;
      font-family: arial, sans-serif;
    }

    .delete-btn {
      background: #fff;
      color: #d93025;
      border: 1px solid #dadce0;
      padding: 6px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
      font-family: arial, sans-serif;
      transition: all 0.1s;
    }

    .delete-btn:hover {
      background: #fef7f7;
      border-color: #d93025;
    }

    /* è´¦å·ä¿¡æ¯é”®å€¼å¯¹ */
    .account-fields {
      margin-bottom: 16px;
    }

    .account-field-item {
      display: flex;
      gap: 8px;
      margin-bottom: 8px;
      align-items: center;
    }

    .account-field-item input {
      flex: 1;
      padding: 8px 12px;
      border: 1px solid #dadce0;
      border-radius: 4px;
      font-size: 14px;
      outline: none;
      color: #202124;
      font-family: arial, sans-serif;
    }

    .account-field-item input:focus {
      border-color: #1a73e8;
      box-shadow: 0 0 0 1px #1a73e8;
    }

    .remove-field-btn {
      background: #fff;
      color: #d93025;
      border: 1px solid #dadce0;
      padding: 8px 12px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 18px;
      line-height: 1;
      transition: all 0.1s;
    }

    .remove-field-btn:hover {
      background: #fef7f7;
      border-color: #d93025;
    }

    .add-field-btn {
      background: #f8f9fa;
      color: #3c4043;
      border: 1px solid #dadce0;
      padding: 8px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 14px;
      font-family: arial, sans-serif;
      transition: all 0.1s;
      width: 100%;
    }

    .add-field-btn:hover {
      background: #f1f3f4;
    }

    .edit-btn {
      background: #fff;
      color: #1a73e8;
      border: 1px solid #dadce0;
      padding: 6px 16px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
      font-family: arial, sans-serif;
      transition: all 0.1s;
      margin-right: 8px;
    }

    .edit-btn:hover {
      background: #f7fbff;
      border-color: #1a73e8;
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- æœç´¢åŒºåŸŸ -->
    <div class="search-section">
      <div class="search-box">
        <select class="engine-select" id="engineSelect">
          <!-- åŠ¨æ€ç”Ÿæˆé€‰é¡¹ -->
        </select>
        <input type="text" class="search-input" id="searchInput" placeholder="è¾“å…¥æœç´¢å†…å®¹...">
        <button class="search-btn" id="searchBtn">æœç´¢</button>
      </div>
    </div>

    <!-- å¯¼èˆªåŒºåŸŸ -->
    <div class="nav-section">
      <div class="category-tabs" id="categoryTabs"></div>
      <div class="sites-grid" id="sitesGrid"></div>
    </div>
  </div>

  <!-- å³ä¸Šè§’æŒ‰é’®ç»„ -->
  <div style="position: fixed; top: 20px; right: 24px; display: flex; flex-direction: row; gap: 12px; align-items: center; z-index: 100;">
    <button class="manage-btn" id="openModeBtn">
      <span id="openModeIcon">ğŸ”—</span>
      <span id="openModeText">æ–°æ ‡ç­¾é¡µ</span>
    </button>
    <button class="manage-btn" id="manageBtn">
      <span>âš™ï¸</span>
      <span>ç®¡ç†</span>
    </button>
  </div>

  <!-- ç®¡ç†æ¨¡æ€æ¡† -->
  <div class="modal" id="manageModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">ç®¡ç†è®¾ç½®</h2>
        <button class="close-btn" id="closeModalBtn">Ã—</button>
      </div>

      <div class="tab-buttons" id="tabButtons">
        <button class="tab-button active" data-tab="category">åˆ†ç±»ç®¡ç†</button>
        <button class="tab-button" data-tab="site">ç½‘ç«™ç®¡ç†</button>
        <button class="tab-button" data-tab="engine">æœç´¢å¼•æ“</button>
        <button class="tab-button" data-tab="sync">æ•°æ®åŒæ­¥</button>
      </div>

      <!-- åˆ†ç±»ç®¡ç† -->
      <div id="categoryManage" class="tab-content">
        <div class="form-group">
          <label class="form-label">åˆ†ç±»åç§°</label>
          <input type="text" class="form-input" id="categoryName">
        </div>
        <button class="btn btn-primary" id="addCategoryBtn">æ·»åŠ åˆ†ç±»</button>
        <div id="categoryList" style="margin-top: 20px;"></div>
      </div>

      <!-- ç½‘ç«™ç®¡ç† -->
      <div id="siteManage" class="tab-content" style="display: none;">
        <div class="form-group">
          <label class="form-label">é€‰æ‹©åˆ†ç±»</label>
          <select class="form-input" id="siteCategory"></select>
        </div>
        <div class="form-group">
          <label class="form-label">ç½‘ç«™åç§°</label>
          <input type="text" class="form-input" id="siteName">
        </div>
        <div class="form-group">
          <label class="form-label">ç½‘ç«™æè¿°</label>
          <input type="text" class="form-input" id="siteDesc" placeholder="ç®€çŸ­æè¿°æ­¤ç½‘ç«™">
        </div>
        <div class="form-group">
          <label class="form-label">ç½‘ç«™å›¾æ ‡</label>
          <div style="display: flex; gap: 12px; margin-bottom: 8px;">
            <label style="display: flex; align-items: center; cursor: pointer;">
              <input type="radio" name="iconType" value="text" id="iconTypeText" checked style="margin-right: 6px;">
              <span style="font-size: 14px; color: #202124;">æ–‡å­—/Emoji</span>
            </label>
            <label style="display: flex; align-items: center; cursor: pointer;">
              <input type="radio" name="iconType" value="url" id="iconTypeUrl" style="margin-right: 6px;">
              <span style="font-size: 14px; color: #202124;">åœ¨çº¿å›¾æ ‡</span>
            </label>
          </div>
          <input type="text" class="form-input" id="siteIcon" placeholder="ğŸŒ">
          <input type="text" class="form-input" id="siteIconUrl" placeholder="https://example.com/favicon.ico" style="display: none;">
          <div style="margin-top: 8px; font-size: 12px; color: #5f6368;" id="iconTypeHint">
            è¾“å…¥è¡¨æƒ…ç¬¦å·æˆ–1-2ä¸ªæ–‡å­—ä½œä¸ºå›¾æ ‡
          </div>
        </div>
        <div class="form-group">
          <label class="form-label">ç½‘ç«™åœ°å€</label>
          <input type="text" class="form-input" id="siteUrl" placeholder="https://example.com">
        </div>
        <div class="form-group">
          <label class="form-label">è´¦å·ä¿¡æ¯(å¯é€‰)</label>
          <div class="account-fields" id="accountFields">
            <!-- åŠ¨æ€ç”Ÿæˆè´¦å·å­—æ®µ -->
          </div>
          <button class="add-field-btn" id="addFieldBtn">+ æ·»åŠ å­—æ®µ</button>
        </div>
        <button class="btn btn-primary" id="saveSiteBtn">æ·»åŠ ç½‘ç«™</button>
        <button class="btn btn-secondary" id="cancelEditBtn" style="display: none;">å–æ¶ˆç¼–è¾‘</button>
        <div id="siteList" style="margin-top: 20px;"></div>
      </div>

      <!-- æœç´¢å¼•æ“ç®¡ç† -->
      <div id="engineManage" class="tab-content" style="display: none;">
        <div class="form-group">
          <label class="form-label">å¼•æ“åç§°</label>
          <input type="text" class="form-input" id="engineName">
        </div>
        <div class="form-group">
          <label class="form-label">æœç´¢URL (ç”¨ {query} ä»£æ›¿æœç´¢è¯)</label>
          <input type="text" class="form-input" id="engineUrl" placeholder="https://www.google.com/search?q={query}">
        </div>
        <button class="btn btn-primary" id="addEngineBtn">æ·»åŠ æœç´¢å¼•æ“</button>
        <div id="engineList" style="margin-top: 20px;"></div>
      </div>

      <!-- æ•°æ®åŒæ­¥ -->
      <div id="syncManage" class="tab-content" style="display: none;">
        <div style="margin-bottom: 24px; padding: 16px; background: #e8f0fe; border-radius: 8px; border-left: 4px solid #1a73e8;">
          <div style="font-size: 14px; color: #202124; margin-bottom: 8px;">
            <strong>ğŸ”„ è‡ªåŠ¨äº‘ç«¯åŒæ­¥</strong>
          </div>
          <div style="font-size: 13px; color: #5f6368; line-height: 1.5;">
            å½“æ‚¨ç™»å½• Chrome/Edge è´¦å·åï¼Œæ‰€æœ‰æ•°æ®ä¼šè‡ªåŠ¨åŒæ­¥åˆ°äº‘ç«¯ã€‚<br>
            åœ¨å…¶ä»–è®¾å¤‡ä¸Šå®‰è£…æ­¤æ’ä»¶å¹¶ç™»å½•ç›¸åŒè´¦å·ï¼Œå³å¯è‡ªåŠ¨åŒæ­¥æ‰€æœ‰è®¾ç½®ã€‚
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">æ‰‹åŠ¨å¤‡ä»½ä¸æ¢å¤</label>
          <div style="display: flex; gap: 8px; margin-top: 12px;">
            <button class="btn btn-primary" id="exportDataBtn" style="flex: 1;">
              ğŸ“¥ å¯¼å‡ºæ•°æ®
            </button>
            <button class="btn btn-secondary" id="importDataBtn" style="flex: 1;">
              ğŸ“¤ å¯¼å…¥æ•°æ®
            </button>
          </div>
          <input type="file" id="importFile" accept=".json" style="display: none;">
          <div style="font-size: 12px; color: #5f6368; margin-top: 8px;">
            å¯¼å‡ºçš„ JSON æ–‡ä»¶å¯ç”¨äºå¤‡ä»½æˆ–è¿ç§»åˆ°å…¶ä»–æµè§ˆå™¨
          </div>
        </div>

        <div class="form-group">
          <label class="form-label">å­˜å‚¨ä¿¡æ¯</label>
          <div style="padding: 12px; background: #f8f9fa; border-radius: 4px; font-size: 13px; color: #5f6368;" id="storageInfo">
            åŠ è½½ä¸­...
          </div>
        </div>

        <div class="form-group">
          <label class="form-label" style="color: #d93025;">å±é™©æ“ä½œ</label>
          <button class="btn" id="clearDataBtn" style="background: #fff; color: #d93025; border: 1px solid #d93025;">
            ğŸ—‘ï¸ æ¸…ç©ºæ‰€æœ‰æ•°æ®
          </button>
          <div style="font-size: 12px; color: #5f6368; margin-top: 8px;">
            æ­¤æ“ä½œå°†åˆ é™¤æ‰€æœ‰åˆ†ç±»ã€ç½‘ç«™å’Œæœç´¢å¼•æ“ï¼Œä¸”ä¸å¯æ¢å¤
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
